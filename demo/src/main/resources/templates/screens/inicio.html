<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">

<head>
    <title>Inicio - Aurea</title>
    <link rel="stylesheet" th:href="@{/style/styles.css}">
</head>

<body>

<div layout:fragment="content">

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-background">
            <!-- Carrusel de imágenes -->
            <div class="hero-carousel" th:if="${instituto.imagenesCarrusel != null and !instituto.imagenesCarrusel.isEmpty()}">
                <div class="carousel-container">
                    <div class="carousel-slide" th:each="imagen, iterStat : ${instituto.imagenesCarrusel}" 
                         th:classappend="${iterStat.index == 0} ? 'active' : ''">
                        <img th:src="@{${imagen}}" alt="Imagen del instituto" class="carousel-image">
                    </div>
                </div>
                <div class="carousel-nav">
                    <button class="carousel-btn prev-btn"><i class="fas fa-chevron-left"></i></button>
                    <button class="carousel-btn next-btn"><i class="fas fa-chevron-right"></i></button>
                </div>
                <div class="carousel-indicators">
                    <span class="indicator" th:each="imagen, iterStat : ${instituto.imagenesCarrusel}"
                          th:classappend="${iterStat.index == 0} ? 'active' : ''"></span>
                </div>
            </div>
            
            <!-- Imagen por defecto si no hay carrusel -->
            <div class="default-hero-bg" th:if="${instituto.imagenesCarrusel == null or instituto.imagenesCarrusel.isEmpty()}">
                <div class="hero-gradient"></div>
            </div>
        </div>
        
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title" 
                    th:text="${instituto.tituloPrincipal ?: 'Bienvenido a ' + instituto.nombreInstituto}">
                    Bienvenido a Instituto Aurea
                </h1>
                <p class="hero-subtitle" 
                   th:text="${instituto.subtituloPrincipal ?: 'Transformamos la educación para el futuro'}">
                    Transformamos la educación para el futuro
                </p>
            </div>
        </div>
    </section>

    <!-- Sección de Ofertas Académicas -->
    <section class="academic-offers-section" 
             th:if="${instituto.mostrarSeccionOfertas == null or instituto.mostrarSeccionOfertas}">
        <div class="section-header">
            <h2 class="section-title" 
                th:text="${instituto.tituloSeccionOfertas ?: 'Nuestras Ofertas Académicas'}">
                Nuestras Ofertas Académicas
            </h2>
            <p class="section-description" 
               th:text="${instituto.descripcionSeccionOfertas ?: 'Descubre nuestros programas educativos diseñados para tu crecimiento profesional'}">
                Descubre nuestros programas educativos diseñados para tu crecimiento profesional
            </p>
        </div>

        <!-- Filtros Section -->
        <div class="filters-section">
            <form class="filters-form" th:action="@{/}" method="get">
                <div class="filter-group">
                    <input type="text" name="nombre" placeholder="Buscar por nombre..." class="filter-input">
                    <select name="categoria" class="filter-select">
                        <option value="">Todas las categorías</option>
                        <option th:each="cat : ${categorias}" th:value="${cat.id}" th:text="${cat.nombre}"></option>
                    </select>
                    <input type="number" name="precioMax" placeholder="Precio máximo" class="filter-input">
                    <div class="filter-checkbox">
                        <input type="checkbox" id="certificado" name="conCertificado" value="true">
                        <label for="certificado">Con Certificado</label>
                    </div>
                    <button type="submit" class="filter-btn">
                        <i class="fas fa-search"></i> Filtrar
                    </button>
                </div>
            </form>
        </div>

        <!-- Ofertas Container -->
        <div class="offers-container">
            <!-- Formaciones -->
            <div class="offer-category" th:if="${!formaciones.isEmpty()}">
                <h3 class="category-title">
                    <i class="fas fa-graduation-cap"></i> Formaciones
                </h3>
                <div class="offer-grid">
                    <div class="offer-card modern" th:each="formacion : ${formaciones}">
                        <div class="card-image">
                            <img th:src="@{/img/placeholder.png}" alt="Imagen de la formación">
                            <div class="card-overlay">
                                <span class="offer-type">Formación</span>
                            </div>
                        </div>
                        <div class="card-content">
                            <h4 class="card-title" th:text="${formacion.nombre}">Nombre de la Formación</h4>
                            <p class="card-description" th:text="${formacion.descripcion}">Descripción corta.</p>
                            <div class="card-meta">
                                <span class="meta-item" th:if="${formacion.cuposDisponibles != null}">
                                    <i class="fas fa-users"></i> 
                                    <span th:text="${formacion.cuposDisponibles} + ' cupos'">10 cupos</span>
                                </span>
                                <span class="meta-item" th:if="${formacion.cuposDisponibles == null}">
                                    <i class="fas fa-users"></i> Sin límite
                                </span>
                                <span class="meta-item" th:if="${formacion.costoMensual != null and formacion.costoMensual > 0}">
                                    <i class="fas fa-calendar-alt"></i> 
                                    <span th:text="'$' + ${formacion.costoMensual} + '/mes'">$50/mes</span>
                                </span>
                            </div>
                            <div class="card-details">
                                <div class="price-info">
                                    <span class="price" th:text="${formacion.precio == 0.0} ? 'Gratis' : '$' + ${formacion.precio}">$99.99</span>
                                </div>
                                <div class="card-actions">
                                    <button class="btn-info" title="Más información">
                                        <i class="fas fa-info-circle"></i>
                                    </button>
                                    <button class="btn-enroll" title="Inscribirse">
                                        <i class="fas fa-user-plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cursos -->
            <div class="offer-category" th:if="${!cursos.isEmpty()}">
                <h3 class="category-title">
                    <i class="fas fa-book"></i> Cursos
                </h3>
                <div class="offer-grid">
                    <div class="offer-card modern" th:each="curso : ${cursos}">
                        <div class="card-image">
                            <img th:src="@{/img/placeholder.png}" alt="Imagen del curso">
                            <div class="card-overlay">
                                <span class="offer-type">Curso</span>
                            </div>
                        </div>
                        <div class="card-content">
                            <h4 class="card-title" th:text="${curso.nombre}">Nombre del Curso</h4>
                            <p class="card-description" th:text="${curso.descripcion}">Descripción corta.</p>
                            <div class="card-meta">
                                <span class="meta-item" th:if="${curso.cuposDisponibles != null}">
                                    <i class="fas fa-users"></i> 
                                    <span th:text="${curso.cuposDisponibles} + ' cupos'">10 cupos</span>
                                </span>
                                <span class="meta-item" th:if="${curso.cuposDisponibles == null}">
                                    <i class="fas fa-users"></i> Sin límite
                                </span>
                                <span class="meta-item" th:if="${curso.costoMensual != null and curso.costoMensual > 0}">
                                    <i class="fas fa-calendar-alt"></i> 
                                    <span th:text="'$' + ${curso.costoMensual} + '/mes'">$50/mes</span>
                                </span>
                            </div>
                            <div class="card-details">
                                <div class="price-info">
                                    <span class="price" th:text="${curso.precio == 0.0} ? 'Gratis' : '$' + ${curso.precio}">$29.99</span>
                                </div>
                                <div class="card-actions">
                                    <button class="btn-info" title="Más información">
                                        <i class="fas fa-info-circle"></i>
                                    </button>
                                    <button class="btn-enroll" title="Inscribirse">
                                        <i class="fas fa-user-plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Seminarios -->
            <div class="offer-category" th:if="${!seminarios.isEmpty()}">
                <h3 class="category-title">
                    <i class="fas fa-users"></i> Seminarios
                </h3>
                <div class="offer-grid">
                    <div class="offer-card modern" th:each="seminario : ${seminarios}">
                        <div class="card-image">
                            <img th:src="@{/img/placeholder.png}" alt="Imagen del seminario">
                            <div class="card-overlay">
                                <span class="offer-type">Seminario</span>
                            </div>
                        </div>
                        <div class="card-content">
                            <h4 class="card-title" th:text="${seminario.nombre}">Nombre del Seminario</h4>
                            <p class="card-description" th:text="${seminario.descripcion}">Descripción corta.</p>
                            <div class="card-meta">
                                <span class="meta-item" th:if="${seminario.cuposDisponibles != null}">
                                    <i class="fas fa-users"></i> 
                                    <span th:text="${seminario.cuposDisponibles} + ' cupos'">10 cupos</span>
                                </span>
                                <span class="meta-item" th:if="${seminario.cuposDisponibles == null}">
                                    <i class="fas fa-users"></i> Sin límite
                                </span>
                                <span class="meta-item" th:if="${seminario.costoMensual != null and seminario.costoMensual > 0}">
                                    <i class="fas fa-calendar-alt"></i> 
                                    <span th:text="'$' + ${seminario.costoMensual} + '/mes'">$50/mes</span>
                                </span>
                            </div>
                            <div class="card-details">
                                <div class="price-info">
                                    <span class="price" th:text="${seminario.precio == 0.0} ? 'Gratis' : '$' + ${seminario.precio}">$49.99</span>
                                </div>
                                <div class="card-actions">
                                    <button class="btn-info" title="Más información">
                                        <i class="fas fa-info-circle"></i>
                                    </button>
                                    <button class="btn-enroll" title="Inscribirse">
                                        <i class="fas fa-user-plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charlas -->
            <div class="offer-category" th:if="${!charlas.isEmpty()}">
                <h3 class="category-title">
                    <i class="fas fa-microphone"></i> Charlas
                </h3>
                <div class="offer-grid">
                    <div class="offer-card modern" th:each="charla : ${charlas}">
                        <div class="card-image">
                            <img th:src="@{/img/placeholder.png}" alt="Imagen de la charla">
                            <div class="card-overlay">
                                <span class="offer-type">Charla</span>
                            </div>
                        </div>
                        <div class="card-content">
                            <h4 class="card-title" th:text="${charla.nombre}">Nombre de la Charla</h4>
                            <p class="card-description" th:text="${charla.descripcion}">Descripción corta.</p>
                            <div class="card-meta">
                                <span class="meta-item" th:if="${charla.cuposDisponibles != null}">
                                    <i class="fas fa-users"></i> 
                                    <span th:text="${charla.cuposDisponibles} + ' cupos'">10 cupos</span>
                                </span>
                                <span class="meta-item" th:if="${charla.cuposDisponibles == null}">
                                    <i class="fas fa-users"></i> Sin límite
                                </span>
                            </div>
                            <div class="card-details">
                                <div class="price-info">
                                    <span class="price" th:text="${charla.precio == 0.0} ? 'Gratis' : 'Consultar'">Gratis</span>
                                </div>
                                <div class="card-actions">
                                    <button class="btn-info" title="Más información">
                                        <i class="fas fa-info-circle"></i>
                                    </button>
                                    <button class="btn-enroll" title="Inscribirse">
                                        <i class="fas fa-user-plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección Misión y Visión -->
    <section class="mission-vision-section" 
             th:if="${instituto.mostrarSeccionMisionVision == null or instituto.mostrarSeccionMisionVision}">
        <div class="section-container">
            <div class="mission-vision-grid">
                <div class="mission-card">
                    <div class="card-icon">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <h3>Nuestra Misión</h3>
                    <p th:text="${instituto.mision ?: 'Formar profesionales competentes con excelencia académica y valores éticos'}">
                        Formar profesionales competentes con excelencia académica y valores éticos
                    </p>
                </div>
                
                <div class="vision-card">
                    <div class="card-icon">
                        <i class="fas fa-eye"></i>
                    </div>
                    <h3>Nuestra Visión</h3>
                    <p th:text="${instituto.vision ?: 'Ser reconocidos como líderes en educación profesional a nivel nacional'}">
                        Ser reconocidos como líderes en educación profesional a nivel nacional
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de Certificaciones y Avales -->
    <section class="certifications-section">
        <div class="section-container">
            <h2 class="section-title">Certificaciones y Avales</h2>
            <div class="certifications-content"
                 th:text="${instituto.certificacionesAvales ?: 'Contamos con el respaldo de instituciones reconocidas a nivel nacional e internacional'}">
                Contamos con el respaldo de instituciones reconocidas a nivel nacional e internacional
            </div>
        </div>
    </section>

    <!-- Chat Button -->
    <button class="chat-button">
        <i class="fas fa-comment-dots"></i>
    </button>

</div>

<!-- Scripts específicos de inicio -->
<div layout:fragment="scripts">
    <script th:src="@{/js/carousel.js}"></script>
</div>