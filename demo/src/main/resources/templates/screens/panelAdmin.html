<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Aurea</title>
    <link rel="stylesheet" th:href="@{/style/panelAdmin.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<div class="dashboard-container">
    
    <!-- =================   MAIN CONTENT   ================= -->
    <main class="main-content">
        <header class="main-header">
            <button id="sidebar-toggle" class="sidebar-toggle-btn">
                <i class="fas fa-chevron-right"></i>
            </button>
            <h1>Dashboard</h1>
        </header>

        <!-- KPI Cards -->
        <section class="kpi-grid">
            <div class="kpi-card">
                <h4>Total Ofertas</h4>
                <p th:text="${totalOfertas}">0</p>
                <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="kpi-card">
                <h4>Ofertas Activas</h4>
                <p th:text="${ofertasActivas}">0</p>
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="kpi-card">
                <h4>Total Alumnos</h4>
                <p th:text="${totalAlumnos}">0</p>
                <i class="fas fa-user-graduate"></i>
            </div>
            <div class="kpi-card">
                <h4>Total Docentes</h4>
                <p th:text="${totalDocentes}">0</p>
                <i class="fas fa-chalkboard-teacher"></i>
            </div>
        </section>

        <!-- Charts -->
        <section class="charts-grid">
            <div class="chart-container">
                <h3>Distribución de Ofertas</h3>
                <canvas id="ofertasChart"></canvas>
            </div>
            <div class="chart-container">
                <h3>Distribución de Usuarios</h3>
                <canvas id="usuariosChart"></canvas>
            </div>
        </section>
    </main>

    <!-- =================   SIDEBAR   ================= -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <a href="#" class="sidebar-logo">A</a>
            <span class="sidebar-logo-text">Aurea</span>
        </div>
        <nav class="sidebar-nav">
            <ul>
                <li>
                    <a href="#" class="active">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-users"></i>
                        <span>Gestión de Usuarios</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-book"></i>
                        <span>Gestión de Ofertas</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-cogs"></i>
                        <span>Configuración</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-chart-line"></i>
                        <span>Informes</span>
                    </a>
                </li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            <div class="user-profile">
                <img src="https://i.pravatar.cc/40" alt="Admin">
                <div class="user-info">
                    <span>Admin</span>
                    <small>admin@aurea.com</small>
                </div>
            </div>
        </div>
    </aside>

</div>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Pasando datos de Thymeleaf a JavaScript -->
<script th:inline="javascript">
    /*<![CDATA[*/
    const chartData = {
        totalCursos: /*[[${totalCursos}]]*/ 0,
        totalFormaciones: /*[[${totalFormaciones}]]*/ 0,
        totalSeminarios: /*[[${totalSeminarios}]]*/ 0,
        totalCharlas: /*[[${totalCharlas}]]*/ 0,
        totalAlumnos: /*[[${totalAlumnos}]]*/ 0,
        totalDocentes: /*[[${totalDocentes}]]*/ 0
    };
    /*]]>*/
</script>

<!-- Custom JS -->
<script th:src="@{/js/panelAdmin.js}"></script>

</body>
</html>